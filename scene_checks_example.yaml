allowed_networks:
  - LOCAL
  - TEST
  - DEV

allowed_scenario:
  - "integration_test*"

steps:
  - type: ContractCall
    sender: owner
    contract: "abc-esdt-minter"
    endpoint: addAirdropAmount
    gas_limit: 5000000
    arguments:
      - "[user]"
      - 100000

  - type: ContractCall
    sender: user
    contract: "abc-esdt-minter"
    endpoint: claimAirdrop
    gas_limit: 5000000
    checks:
      - type: Success
        activated: true

      - type: Transfer
        condition: exact  # available: exact, include
        include_gas_refund: false  # optional, false by default
        expected:
          - sender: sender_address
            receiver: receiver_address
            token: XMEX-ae56d4-01  # include nonce if SFT, NFT or MEta ESDT
            amount: 984165498461
          - sender: sener_address
            receiver: receiver_address
            token: WEGLD_dd123e
            amount: 89451561984156

      - type: Error
        class: <expected error class>  # available: vm error, gas error, other??
        message: <expected error message>  #Â optional, if empty the error message will not be checked