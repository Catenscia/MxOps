allowed_networks:
  - localnet
  - testnet
  - devnet

allowed_scenario:
  - "integration_test_piggy_bank_user_exploit"

steps:
  - type: ContractDeploy
    sender: jean
    wasm_path: "./integration_tests/piggy_bank/contracts/esdt-minter/output/esdt-minter.wasm"
    abi_path: "./integration_tests/piggy_bank/contracts/esdt-minter/output/esdt-minter.abi.json"
    contract_id: "abc-esdt-minter"
    gas_limit: 50000000
    arguments:
      - 100
    upgradeable: true
    readable: false
    payable: false
    payable_by_sc: true

  - type: ContractCall
    sender: jean
    contract: "abc-esdt-minter"
    endpoint: issueToken
    gas_limit: 100000000
    value: "&BASE_ISSUING_COST"
    arguments:
      - ABC
      - ABC
      - 3
  
  - type: ContractQuery
    contract: "abc-esdt-minter"
    endpoint: getEsdtIdentifier
    arguments: []
    print_results: true
    results_save_keys:
      - EsdtIdentifier