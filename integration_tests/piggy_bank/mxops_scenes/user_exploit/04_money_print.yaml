allowed_networks:
  - localnet
  - testnet
  - devnet

allowed_scenario:
  - "integration_test_piggy_bank_user_exploit"

steps:
  - type: Loop
    var_name: CAPITAL_AMOUNT
    var_list: [100000, 200000, 400000]
    steps:
      - type: ContractCall
        sender: thomas
        contract: "abc-piggy-bank"
        endpoint: deposit
        esdt_transfers:
          - token_identifier: "%abc-esdt-minter.EsdtIdentifier"
            amount: "$CAPITAL_AMOUNT:int"
            nonce: 0
        gas_limit: 8000000

      - type: ContractCall
        sender: thomas
        contract: "abc-piggy-bank"
        endpoint: withdraw
        gas_limit: 8000000
