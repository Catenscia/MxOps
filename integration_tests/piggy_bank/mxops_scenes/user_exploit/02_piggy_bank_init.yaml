allowed_networks:
  - localnet
  - testnet
  - devnet

allowed_scenario:
  - "integration_test_piggy_bank_user_exploit"

steps:
  - type: ContractDeploy
    sender: owner
    wasm_path: "./integration_tests/piggy_bank/contracts/piggy-bank/output/piggy-bank.wasm"
    contract_id: "abc-piggy-bank"
    gas_limit: 80000000
    arguments:
      - "%abc-esdt-minter%EsdtIdentifier"
      - "%abc-esdt-minter%address"
    upgradeable: true
    readable: false
    payable: false
    payable_by_sc: true

  - type: ContractCall
    sender: owner
    contract: "abc-esdt-minter"
    endpoint: addInterestAddress
    gas_limit: 5000000
    arguments:
      - "%abc-piggy-bank%address"
